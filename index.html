<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø¨Ù†Ùƒ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª â€“ Ø³Ø§Ø±Ø© Ø­Ù‚ÙˆÙŠ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
margin:0;
font-family:Tahomaa,Arial;
background:#eef6fb;
}

.hidden{display:none}

header{
background:linear-gradient(90deg,#cfe9f5,#f2f6f8);
padding:20px;
text-align:center;
font-size:22px;
font-weight:bold;
color:#003b5c;
}

.container{padding:20px}

.card{
background:#ffffff;
border-radius:14px;
padding:15px;
margin-bottom:15px;
box-shadow:0 4px 8px rgba(0,0,0,.1);
}

button{
border:none;
border-radius:10px;
padding:10px;
font-size:16px;
margin:5px;
cursor:pointer;
}

.blue{background:#4da3c8;color:white}
.gray{background:#ddd}
.green{background:#3bb273;color:white}
.red{background:#d64545;color:white}

.student-grid{
display:grid;
grid-template-columns:1fr 1fr;
gap:12px;
}

.bank-card{
background:linear-gradient(120deg,#eaf7ff,#d3e8f3,#f3f6f8);
border-radius:18px;
padding:20px;
color:#003b5c;
box-shadow:0 6px 14px rgba(0,0,0,.2);
font-size:18px;
}

.big{
font-size:26px;
font-weight:bold;
letter-spacing:2px;
}

.footer{
margin-top:30px;
text-align:center;
font-weight:bold;
color:#003b5c;
}
</style>
</head>

<body>

<header>ğŸ¦ Ø¨Ù†Ùƒ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª â€“ Ù…ØµØ±Ù Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ø³Ø§Ø±Ø© Ø­Ù‚ÙˆÙŠ</header>

<div class="container">

<!-- ØµÙØ­Ø© Ø§Ù„Ù…Ø¹Ù„Ù…Ø© -->
<div id="teacher">

<h3>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø§Ø¨</h3>

<button class="blue" onclick="depositAll()">Ø¥ÙŠØ¯Ø§Ø¹ Ù„Ù„ÙƒÙ„</button>

<div class="student-grid" id="students"></div>

</div>

<!-- ØµÙØ­Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ -->
<div id="student" class="hidden">

<div class="bank-card">
Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨: <b id="sname"></b><br><br>
Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨:<br>
<div class="big" id="snum"></div><br>
Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ:
<div class="big" id="sbalance"></div>
</div>

<div class="card">
<button class="green" onclick="deposit()">Ø¥ÙŠØ¯Ø§Ø¹</button>
<button class="red" onclick="withdraw()">Ø³Ø­Ø¨</button>
<button class="gray" onclick="back()">Ø±Ø¬ÙˆØ¹</button>
</div>

<div class="card">
<h4>ÙƒØ´Ù Ø§Ù„Ø­Ø³Ø§Ø¨</h4>
<div id="log"></div>
</div>

</div>

<div class="footer">Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù„ØºØ© Ø§Ù„Ø£Ø°ÙƒÙŠØ§Ø¡ âœ¨</div>

</div>

<script>

let data = JSON.parse(localStorage.getItem("mathbank")) || {
"Ø£Ø­Ù…Ø¯":{bal:0,active:true,log:[]},
"Ø³Ø§Ø±Ø©":{bal:0,active:true,log:[]},
"Ø±ÙŠÙ…":{bal:0,active:true,log:[]},
"Ø®Ø§Ù„Ø¯":{bal:0,active:true,log:[]}
};

let current="";

function save(){
localStorage.setItem("mathbank",JSON.stringify(data));
}

function render(){
let box="";
for(let n in data){
box+=`
<div class="card">
<b>${n}</b><br>
Ø§Ù„Ø±ØµÙŠØ¯: ${data[n].bal}<br>
<button class="${data[n].active?'green':'red'}" onclick="toggle('${n}')">
${data[n].active?'ğŸŸ¢ Ù…ÙØ¹Ù„':'ğŸ”´ Ù…Ù‚ÙÙ„'}
</button>
<button class="blue" onclick="openAcc('${n}')">ÙØªØ­ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
</div>
`;
}
document.getElementById("students").innerHTML=box;
}

function toggle(n){
data[n].active=!data[n].active;
save();render();
}

function openAcc(n){
if(!data[n].active){
alert("Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…Ù‚ÙÙ„ â€“ Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ø³Ø§Ø±Ø© Ø­Ù‚ÙˆÙŠ");
return;
}
current=n;
document.getElementById("teacher").classList.add("hidden");
document.getElementById("student").classList.remove("hidden");
document.getElementById("sname").innerText=n;
document.getElementById("snum").innerText="MB-"+Math.floor(100000+Math.random()*900000);
updateStudent();
}

function updateStudent(){
document.getElementById("sbalance").innerText=data[current].bal;
document.getElementById("log").innerHTML=data[current].log.join("<br>");
}

function deposit(){
let v=+prompt("Ù…Ø¨Ù„Øº Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹:");
if(!v)return;
data[current].bal+=v;
data[current].log.push("Ø¥ÙŠØ¯Ø§Ø¹ +"+v);
save();updateStudent();
}

function withdraw(){
let v=+prompt("Ù…Ø¨Ù„Øº Ø§Ù„Ø³Ø­Ø¨:");
if(!v)return;
data[current].bal-=v;
data[current].log.push("Ø³Ø­Ø¨ -"+v);
save();updateStudent();
}

function depositAll(){
let v=+prompt("Ù…Ø¨Ù„Øº Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹ Ù„Ù„ÙƒÙ„:");
if(!v)return;
for(let n in data){
data[n].bal+=v;
data[n].log.push("Ø¥ÙŠØ¯Ø§Ø¹ Ø¬Ù…Ø§Ø¹ÙŠ +"+v);
}
save();render();
}

function back(){
document.getElementById("student").classList.add("hidden");
document.getElementById("teacher").classList.remove("hidden");
}

render();
</script>

</body>
</html>
